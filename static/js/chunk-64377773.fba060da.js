(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64377773"],{2405:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"sku-list"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",stripe:"",data:t.skuList}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center","row-key":"id"}}),t._v(" "),n("el-table-column",{attrs:{prop:"skuName",label:"名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"skuDesc",label:"描述"}}),t._v(" "),n("el-table-column",{attrs:{label:"默认图片",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("div",{staticClass:"info"},[n("div",{staticClass:"pic"},[n("img",{staticStyle:{width:"80px"},attrs:{src:e.skuDefaultImg,alt:"商品图片"}})])])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"weight",label:"重量(KG)"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"价格(元)",width:"80"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[0==s.isSale?n("HintButton",{attrs:{title:"上架",type:"info",size:"mini",icon:"el-icon-top"},on:{click:function(e){return t.onSale(s.id)}}}):t._e(),t._v(" "),1==s.isSale?n("HintButton",{attrs:{title:"下架",type:"success",size:"mini",icon:"el-icon-bottom"},on:{click:function(e){return t.cancelSale(s.id)}}}):t._e(),t._v(" "),n("HintButton",{attrs:{title:"修改",type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.toUpdateSku(s.id)}}}),t._v(" "),n("HintButton",{attrs:{title:"查看详情",type:"primary",size:"mini",icon:"el-icon-info"},on:{click:function(e){return t.showSkuInfo(s.id)}}}),t._v(" "),n("el-popconfirm",{attrs:{title:"确定删除 "+s.skuName+" 吗"},on:{onConfirm:function(e){return t.deleteSku(s.id)}}},[n("hint-button",{attrs:{slot:"reference",type:"danger",size:"mini",icon:"el-icon-delete",title:"删除"},slot:"reference"})],1)]}}])})],1),t._v(" "),n("el-pagination",{staticStyle:{padding:"20px 0","text-align":"center"},attrs:{"current-page":t.page,total:t.total,"page-size":t.limit,"page-sizes":[5,10,20,30,40,50],layout:"prev, pager, next, jumper, ->, sizes, total"},on:{"current-change":t.getSkuList,"size-change":t.changeSize}}),t._v(" "),n("el-drawer",{attrs:{visible:t.isShowSkuInfo,direction:"rtl",withHeader:!1,size:"50%"},on:{"update:visible":function(e){t.isShowSkuInfo=e}}},[n("el-row",[n("el-col",{attrs:{span:5}},[t._v("名称")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.skuName))])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("描述")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.skuDesc))])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("价格")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.price))])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("平台属性")]),t._v(" "),n("el-col",{attrs:{span:18}},t._l(t.skuInfo.skuAttrValueList,(function(e){return n("el-tag",{key:e.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[t._v("\n            "+t._s(e.attrId+"-"+e.valueId)+"\n        ")])})),1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("销售属性")]),t._v(" "),n("el-col",{attrs:{span:18}},t._l(t.skuInfo.skuSaleAttrValueList,(function(e){return n("el-tag",{key:e.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[t._v("\n            "+t._s(e.id+"-"+e.saleAttrValueId)+"\n        ")])})),1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("商品图片")]),t._v(" "),n("el-col",{attrs:{span:16}},[n("el-carousel",{staticClass:"img-carousel",attrs:{trigger:"click",height:"400px",autoplay:!1}},t._l(t.skuInfo.skuImageList,(function(t){return n("el-carousel-item",{key:t.id},[n("img",{attrs:{src:t.imgUrl,alt:""}})])})),1)],1)],1)],1)],1)},i=[],a=(n("96cf"),n("3b8d")),r={name:"SkuList",data:function(){return{skuList:[],loading:!1,total:0,page:1,limit:10,skuInfo:{},isShowSkuInfo:!1}},mounted:function(){this.getSkuList()},methods:{handleClose:function(t){this.skuInfo={},this.isShowSkuInfo=!1},showSkuInfo:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isShowSkuInfo=!0,t.next=3,this.$API.sku.get(e);case 3:n=t.sent,this.skuInfo=n.data;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeSize:function(t){this.limit=t,this.getSkuList(1)},getSkuList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,this.page=e,this.loading=!0,t.next=5,this.$API.sku.getList(this.page,this.limit);case 5:n=t.sent,this.skuList=n.data.records,this.total=n.data.total,this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onSale:function(t){var e=this;this.$API.sku.onSale(t).then((function(t){e.$message({type:"success",message:"上架成功!"}),e.getSkuList(e.page)}))},cancelSale:function(t){var e=this;this.$API.sku.cancelSale(t).then((function(t){e.$message({type:"success",message:"下架成功!"}),e.getSkuList(e.page)}))},toUpdateSku:function(t){this.$message.warning("待完成!")},deleteSku:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$API.sku.remove(e);case 2:n=t.sent,200===n.code?(this.$message({message:"删除SKU成功",type:"success"}),this.getSkuList(1)):this.$message({message:n.data||n.message||"删除SKU失败",type:"error"});case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},o=r,l=(n("dc70"),n("9d92"),n("2877")),c=Object(l["a"])(o,s,i,!1,null,"f2852ac8",null);e["default"]=c.exports},5644:function(t,e,n){},"8ef0":function(t,e,n){},"9d92":function(t,e,n){"use strict";var s=n("5644"),i=n.n(s);i.a},dc70:function(t,e,n){"use strict";var s=n("8ef0"),i=n.n(s);i.a}}]);