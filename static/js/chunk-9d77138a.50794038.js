(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d77138a"],{"1bc4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"900px","margin-bottom":"20px"},attrs:{border:"",lazy:"",data:e.categorys,load:e.load,"row-key":e.getRowKey,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-class-name":e.tableRowClassName},on:{"row-click":e.rowClik}},[n("el-table-column",{attrs:{prop:"id",label:"分类ID",align:"center",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"分类名称",sortable:""}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-input",{attrs:{placeholder:"按Enter键添加一级分类"},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}})]}},{key:"default",fn:function(t){return[n("HintButton",{attrs:{title:"添加子分类",disabled:!t.row.level,size:"mini",type:"primary",icon:"el-icon-plus"}}),e._v(" "),n("HintButton",{attrs:{title:"修改分类",size:"mini",type:"primary",icon:"el-icon-edit"}}),e._v(" "),n("HintButton",{attrs:{title:"删除分类",size:"mini",type:"danger",icon:"el-icon-delete"}})]}}])})],1)],1)},a=[],o=(n("96cf"),n("3b8d")),i=(n("ac6a"),{name:"CategoryList",data:function(){return{categorys:[],categoryName:""}},mounted:function(){this.getCategorys1()},methods:{getCategorys1:function(){var e=this;this.$API.category.getCategorys1().then((function(t){var n=t.data;n.forEach((function(e){e.hasChildren=!0,e.level=1})),e.categorys=n}))},load:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("---",t,n),1!==t.level){e.next=8;break}return e.next=4,this.getCategorys2(t.id);case 4:a=e.sent,r(a),e.next=13;break;case 8:if(2!==t.level){e.next=13;break}return e.next=11,this.getCategorys3(t.id);case 11:o=e.sent,r(o);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),getCategorys2:function(e){return this.$API.category.getCategorys2(e).then((function(e){var t=e.data;return t&&t.length>0?(t.forEach((function(e){e.hasChildren=!0,e.level=2})),t):[]}))},getRowKey:function(e){return e.level+"-"+e.id},getCategorys3:function(e){return this.$API.category.getCategorys3(e).then((function(e){var t=e.data;return t&&t.length>0?t:[]}))},rowClik:function(e){this.getRowKey(e)},tableRowClassName:function(e){var t=e.row;e.rowIndex;if(2===t.level)return"level2-row"}}}),l=i,c=(n("e8e2"),n("2877")),s=Object(c["a"])(l,r,a,!1,null,null,null);t["default"]=s.exports},5180:function(e,t,n){},e8e2:function(e,t,n){"use strict";var r=n("5180"),a=n.n(r);a.a}}]);